WBC1 Parametric Generative Cached Implementation Summary
=========================================================

File Created: wbc1_parallel_gen_cached.c
Based on: wbc1_parallel_cached_opti.c

KEY MODIFICATIONS IMPLEMENTED:
===============================

1. HEADER COMMENT UPDATED
   - Changed from "OPTIMIZED Parallel Implementation" to "PARAMETRIC GENERATIVE Implementation"
   - Updated description to emphasize PRF-based parametric operations
   - Documented the three types of parametric operations
   - Explained parameter generation and extraction

2. PRF FUNCTION ADDED
   - prf_theta(key, key_len, round, index) → 32-bit parameter θ
   - Uses SHA-256 hash of (key || round || index || "WBC1_PARAM")
   - Returns 32-bit value used to generate operation parameters

3. THREE PARAMETRIC OPERATION TYPES IMPLEMENTED
   
   a) parametric_face_rotation(block, param1, param2, inverse)
      - Cyclic rotation of entire block
      - Variable shift amount (1 to BLOCK_SIZE-1)
      - Properly invertible with complementary shift

   b) parametric_slice(block, param1, param2, param3, inverse)
      - Reverses a segment of the block
      - Variable start position and length
      - Self-inverse operation (reversal applied twice = identity)

   c) parametric_pattern(block, param1, param2, param3, inverse)
      - Performs deterministic swaps based on parameters
      - Variable number of swaps (3-6)
      - Self-inverse operation (swaps applied twice = identity)

4. PARAMETRIC OPERATION DISPATCHER
   - apply_parametric_operation(cipher, block, round, j, inverse)
   - Calls prf_theta to generate θ
   - Extracts operation type and parameters from θ:
     * op_type = (θ >> 28) & 0x7  (3 bits)
     * param1 = (θ >> 20) & 0xFF  (8 bits)
     * param2 = (θ >> 12) & 0xFF  (8 bits)
     * param3 = (θ >> 4) & 0xFF   (8 bits)
   - Selects one of three operation types using (op_type % 3)

5. ENCRYPTION/DECRYPTION MODIFIED
   - Replaced apply_operation_cached() calls with apply_parametric_operation()
   - Removed dependency on fixed 127 operation set
   - Operations now generated on-the-fly from PRF
   - Each (round, j) pair produces unique operation parameters

6. ROTATION CACHE PRESERVED
   - Kept precompute_rotation_cache() for performance
   - Rotation lookup tables still provide 8 cached shifts
   - Maintains performance benefit of original optimization

TECHNICAL DETAILS:
==================

Operation Composition:
- Each round applies 32 parametric operations
- Each operation followed by cyclic bitwise rotation
- Operations are PRF-generated, not pre-computed
- Infinite effective operation space (vs. 127 fixed operations)

Invertibility:
- parametric_face_rotation: Uses complementary shift for inverse
- parametric_slice: Self-inverse (segment reversal)
- parametric_pattern: Self-inverse (swap operations)

Performance Characteristics:
- No operation cache needed (operations not pre-computed)
- Rotation cache still provides performance benefit
- PRF calls add minimal overhead (one SHA-256 per operation)
- Trade-off: Slightly slower than cached version, much larger operation space

COMPILATION:
============
mpicc -O2 -Wall -Wextra -std=c99 -o wbc1_parallel_gen_cached \
  wbc1_parallel_gen_cached.c -lssl -lcrypto -lm

USAGE:
======
mpirun -n 4 ./wbc1_parallel_gen_cached 1 256 0 16 0

Where:
- 1 = algorithm mode (full)
- 256 = key size in bits
- 0 = auto-generate key
- 16 = number of rounds
- 0 = text encryption task

DIFFERENCES FROM ORIGINAL:
==========================
1. Operations are generated dynamically vs. pre-computed
2. No fixed set of 127 operations
3. Each key produces different operation sequences
4. PRF-based parameter generation ensures key-dependent behavior
5. Much larger effective operation space
6. Enhanced resistance to cryptanalysis (operations vary per key)

The implementation successfully replaces fixed operations with
parametric operations while maintaining the overall cipher structure
and keeping the rotation cache optimization.
